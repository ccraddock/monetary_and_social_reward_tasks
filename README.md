# monetary_and_social_reward_tasks

psychopy implementation of the monetary and social reward tasks used in:

Flores, LE et. al., Adolescents' neural response to social reward and real-world emotional closeness and positive affect. Cognitive, Affective, & Behavioral Neuroscience (2018) 18:705-717. https://doi.org/10.3758/s12415-018-0598-0


Task output is available as a .log file, .csv file and a pydat file. The .csv file should contain all of the pt respone and timing information. 

## parameters

There are a few parameters that may need to be changed. Most of these are at the top of the file:

SCREEN_RESOLUTION = [1920, 1080]
FULLSCREEN = False # should be True when running during the study.
LEFT_RESPONSE = '1'  # this is the button to press for a 'lower' guess
RIGHT_RESPONSE = '2'  # this is the butto to press for a 'higher' guess
SCANNER_TRIGGER = '5' # this is the code that the scanner sends tot he stimulus computer every TR
ESCAPE_KEY = 'esc'

The font may need to be adjusted if you change the SCREEN_RESOLUTION.

#Social Reward Task

The social reward task follows the implementation describes in [Flores et al. 2018](https://pubmed.ncbi.nlm.nih.gov/29943174/) and [Healey et al. 2014](https://pubmed.ncbi.nlm.nih.gov/24412087/). The task is pretty complicated and requires rating a set of images before the scan, using those ratings to classify the images into different stimuli types, displaying the images to the user in a block design fMRI task, and then a post-rating where the user indicates how they felt when they saw each photo. This functionality is broken up between two psychopy scripts:

1. social_reward_task_rating: handles both the pre-task and post-task ratings. This can be determined on the task GUI that pops up when you start the script using the 'session' pull-down. If you select 'post-task' you must also enter the filename of a rating json (.json) file generated by the script in pre-rating mode. This file can be found in the data/ directory after running the rating script. The order option allows you to counterbalance and is only relevant for the post-rating. 

2. social_reward_task.py: implements the in-scanner fMRI task. Again, the order parameter can be used to counter balance the block order. You need a pre-rating output file for this as well. This file can be found in the data/ directory after running the rating script. 

This requires a set of images available in the image/ directory next to the script. The image filename should begin with 'm' if the photo is of a man or 'w' if the photo is of a woman. Other than that the size should be cropped so that the images look OK.
